{"version":3,"sources":["components/utils/Sleep.js","components/controls/TextInput.js","components/controls/Button.js","components/TopContainer.js","components/rowoperations/AdditionAndScaleOperations.js","components/functioncontainer/FcontainerTop.js","components/functioncontainer/FcontainerBottom.js","components/functioncontainer/FunctionContainer.js","components/utils/CopyMatrix.js","components/rowelimination/RREFAlgorithm.js","components/BottomContainer.js","components/providers/HistoryProvider.js","components/matrixcontainer/Cell.js","components/matrixcontainer/Matrix.js","components/controls/SwapButton.js","components/rowoperations/SwapOperation.js","components/matrixcontainer/MatrixContainer.js","components/toprow/TopRowItem.js","components/toprow/TopRow.js","components/App.js","index.js"],"names":["sleep","time","Promise","resolve","setTimeout","TextInput","className","val","inputTest","number","f","placeholder","testId","useState","backgroundColor","style","setStyle","value","onChange","e","then","x","Number","updateVal","target","data-testid","Button","name","onClick","TopContainer","m","setM","n","setN","makeArray","resetMatrix","topInputTest","isNaN","convertToNumeric","array","out","forEach","row","push","map","el","parseFloat","parseScalar","scalar","parsedScalar","console","error","rowRangeTest","FcontainerTop","getMatrix","setMatrix","dimRows","R1Scalar","setR1Scalar","R1","setR1","R2","setR2","inputRowTest","flagOne","test","length","R1index","R2index","matrix","scaledR1","i","flatMatrix","flatMap","performRowAddition","FcontainerBottom","R1Scale","setR1Scale","operation","setOperation","zeroFlag","performRowScale","FunctionContainer","rows","copyMatrix","slice","nullFunction","a","lead","rowCount","colCount","r","res","dealWithZeroLead","swapRows","dimAnimation","leadingVal","scaledR","rowI","j","removeNegativeZero","Object","is","temp","convertMatrix","BottomContainer","undoLast","callConvertMatrix","HistoryContext","createContext","HistoryProvider","children","startDimensions","startState","Array","fill","dimensions","history","setHistory","Provider","undo","lastState","pop","addState","savedStates","resetHistory","zeroMatrix","Cell","cols","index","opacity","transitionProperty","transitionDuration","decimalPlace","indexOf","matrixCopy","updateState","type","isUnfinished","Math","round","EPSILON","Matrix","dimmedCells","gridStyle","gridTemplateColumns","includes","key","SwapButton","clicked","doSwap","swapPair","setSwapPair","arrayToMatrix","pair","first","second","arr","MatrixContainer","callDoSwap","TopRowItem","heading","TopRow","rowHeads","emptyArray","headingsEnd","makeColHeaders","App","historyContext","useContext","setDimensions","String","floor","random","setDimmedCells","updateMatrixState","newMatrix","startIndex","size","last","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.6da1512a.chunk.js","sourcesContent":["const sleep = (time) => {\n    return new Promise((resolve) => setTimeout(resolve, time));\n};\n\nexport default sleep;","import React, { useState } from 'react';\nimport sleep from '../utils/Sleep';\n\nfunction TextInput({ className, val, inputTest, number, f, placeholder, testId }) {\n    const [style, setStyle] = useState({ backgroundColor: 'white' });\n\n    const updateVal = (val) => {\n        // show a red indicator if value fails input test\n        if (inputTest(val)) {\n            setStyle({ backgroundColor: '#ec3643' });\n            sleep(500).then(x => setStyle({ backgroundColor: 'white' }));\n            f('');\n        } else {\n            if (number) {\n                f(Number(val));\n            } else {\n                f(val);\n            }\n        }\n    };\n\n    return (\n        <input className={className}\n            value={val}\n            style={style}\n            onChange={(e) => updateVal(e.target.value)}\n            placeholder={placeholder}\n            data-testid={testId} />\n    );\n}\n\nexport default TextInput;","import React from 'react';\n\nfunction Button({ className, name, testId, f }) {\n    return (\n        <button className={className} onClick={(e) => f()}\n            data-testid={testId} >\n            {name}\n        </button>);\n}\n\nexport default Button;","import React from 'react';\nimport TextInput from './controls/TextInput';\nimport Button from './controls/Button';\n\nfunction TopContainer({ m, setM, n, setN, makeArray, resetMatrix }) {\n  // test input for dimensions. m,n must be between 1 and 10.\n  const topInputTest = (val) => {\n    return (isNaN(val) || val < 1 || val > 10);\n  };\n\n  return (\n    <div className='topContainer'>\n      <TextInput className='topInput' val={m} inputTest={topInputTest}\n        f={setM} placeholder={'m'} number={true} testId={\"mInput\"} />\n      <div className='topDiv'>X</div>\n      <TextInput className='topInput' val={n} inputTest={topInputTest}\n        f={setN} placeholder={'n'} number={true} testId={\"nInput\"} />\n      <Button name='Make matrix' f={makeArray} className={'topButton'} />\n      <Button name='Reset' f={resetMatrix} className={'topButton'} />\n    </div>\n  );\n}\n\nexport default TopContainer;","/**\n * Contains logic for the row addition and row scale operations\n */\n\n// covert all cell values to numbers\nconst convertToNumeric = (array) => {\n    const out = [];\n\n    // convert to base 10 decimal\n    array.forEach(row => out.push(row.map(el => {\n        // convert single dots and dashes (allowed by regex) to 0\n        el === '.' || el === '-' ? el = 0 : el = el;\n        return parseFloat(el, 10);\n    }\n    )));\n    return out;\n};\n\n// read a scalar value into a variable or \n// return false if not a number\nconst parseScalar = (scalar) => {\n    // attempt to parse the scalar value \n    let parsedScalar = parseFloat(scalar);\n    // invalid scalar provided\n    if (isNaN(parsedScalar)) {\n        console.error('Invalid scalar');\n        return false;\n    }\n    return parsedScalar;\n};\n\n// test row id which must be >= 1 and <= m\nconst rowRangeTest = (row, m) => {\n    return (isNaN(row) || row < 1 || row > m);\n};\n\n// adds a scaled R1 to R2 and updates matrix state\nconst performRowAddition = (R1, R2, R1Scalar, getMatrix, setMatrix, dimRows) => {\n    let m = getMatrix().length;\n\n    // invalid rows selected\n    if (rowRangeTest(R1, m) || rowRangeTest(R2, m)) {\n        console.error('Both rows must be selected');\n        return;\n    }\n\n    let R1index = R1 - 1; // rows are zero-indexed\n    let R2index = R2 - 1;\n\n    // attempt to parse the scalar value \n    let parsedScalar = parseScalar(R1Scalar);\n    if (!parsedScalar) {\n        // return if an invlid scalar was provided\n        return;\n    }\n\n    // get copy of matrix from the app class\n    let matrix = getMatrix();\n    matrix = convertToNumeric(matrix);\n\n    // scale R1 by the required amount\n    const scaledR1 = matrix[R1index].map(el => el *= parsedScalar);\n    // add scaled R1 to R2\n    for (let i = 0; i < matrix[R2index].length; i++) {\n        matrix[R2index][i] += scaledR1[i];\n    }\n\n    // flatten result and update parent class \n    const flatMatrix = matrix.flatMap(el => el);\n    dimRows([R2index]);\n    setMatrix(flatMatrix);\n};\n\n// multiplies/divides R by some value\nconst performRowScale = (R1, R1Scale, operation, getMatrix, setMatrix, dimRows) => {\n    const multiplySymbol = '\\u00B7';\n\n    let R1index = R1 - 1; // rows are zero-indexed in the code\n    if (R1index < 0) {\n        return;\n    }\n\n    // attempt to parse the scalar value \n    let parsedScalar = parseScalar(R1Scale);\n    if (!parsedScalar) {\n        // return if an invlid scalar was provided\n        return;\n    }\n\n    // get copy of matrix from the app class\n    let matrix = getMatrix();\n    matrix = convertToNumeric(matrix);\n\n    // scale R1 by the required amount\n    const scaledR1 = matrix[R1index].map(el => {\n        if (operation === multiplySymbol) {\n            return el *= parsedScalar;\n        } else {\n            return el /= parsedScalar;\n        }\n    });\n\n    matrix[R1index] = scaledR1;\n\n    // flatten result and update parent class \n    const flatMatrix = matrix.flatMap(el => el);\n\n    dimRows([R1index]);\n    setMatrix(flatMatrix);\n};\n\nexport { performRowAddition, performRowScale };","import React, { useState } from 'react';\nimport TextInput from '../controls/TextInput';\nimport Button from '../controls/Button';\nimport { performRowAddition } from '../rowoperations/AdditionAndScaleOperations';\n\n/**\n * Stores and renders controls for row addition operation\n */\nfunction FcontainerTop( { rowRangeTest, getMatrix, setMatrix, dimRows }) {\n    const bigX = '\\u2715'\n    const [R1Scalar, setR1Scalar] = useState(1); // amount to scale row by\n    const [R1, setR1] = useState(''); // first row used in operation\n    const [R2, setR2] = useState(''); // second row used in operation\n\n    // test scalar values, which may be fractional or negative\n    const inputDecimalTest = (val) => {\n        // scalars should not be made up for more than 7 characters\n        const maxLength = 7;\n\n        // 0 or 1 dash followed by optional digits and 0 or 1 dot\n        // then optional digits \n        const RE = /^-{0,1}\\d*\\.{0,1}\\d*$/;\n        return !RE.test(val) || val.length > maxLength;\n    }\n\n    const inputRowTest = (row) => {\n        // selected row must be less than or equal to N\n        const flagOne = rowRangeTest(row);\n\n        row = Number(row);\n        // cannot perform a row action on itself\n        const flagTwo = (row === R1) || (row === R2);\n        return flagOne || flagTwo;\n    }\n\n    // call the perform row addition function in the row operations module\n    const callperformRowAddition = () => {\n        performRowAddition(R1, R2, R1Scalar, getMatrix, setMatrix, dimRows)\n    }\n\n    return (\n        <div className='fContainer'>\n            <TextInput className='fInput' f={setR1Scalar} val={R1Scalar}\n                inputTest={inputDecimalTest} number={false}\n                testId={'scalarValueTop'} />\n            <div className='fDiv'> {bigX} Row </div>\n            <TextInput className='fInput' f={setR1} val={R1}\n                inputTest={inputRowTest} number={true}\n                testId={'R1ValueTop'} placeholder={'Rᵢ'} />\n                \n            <div className='fDiv'> &#43; Row </div>\n            <TextInput className='fInput' f={setR2} val={R2}\n                inputTest={inputRowTest} number={true}\n                testId={'R2ValueTop'} placeholder={'Rⱼ'} />\n            <Button className='fButton'\n                name={`${R1Scalar} ${bigX} R${R1} + R${R2} → R${R2}`} f={callperformRowAddition}\n                testId={\"rowAdditionButton\"} />\n        </div>\n    )\n}\n\nexport default FcontainerTop;","import React, { useState } from 'react';\nimport TextInput from '../controls/TextInput';\nimport Button from '../controls/Button';\nimport { performRowScale } from '../rowoperations/AdditionAndScaleOperations';\n\nconst multiplySymbol = '\\u00B7';\nconst divideSymbol = '\\u00F7';\n\n/**\n *  renders control for row scale operation\n */\nfunction FcontainerBottom( { getMatrix, setMatrix, rowRangeTest, dimRows} ) {\n    const [R1Scale, setR1Scale] = useState(1); // amount to scale row by\n    const [R1, setR1] = useState(''); // row used in operation\n    const [operation, setOperation] = useState(multiplySymbol); // multiply or divide\n\n    // switch between division and multiplication\n    const switchOperation = () => {\n        const op = operation === multiplySymbol ? divideSymbol : multiplySymbol;\n        setOperation(op);\n    };\n\n    // test scalar values, which may be fractional or negative\n    const inputDecimalTest = (val) => {\n        // scalars should not be made up for more than 7 characters\n        const maxLength = 7;\n\n        // scaling by 0 is not allowed\n        const zeroFlag = val === '0';\n\n        // 0 or 1 dash followed by optional digits and 0 or 1 dot\n        // then optional digits \n        const RE = /^-{0,1}\\d*\\.{0,1}\\d*$/;\n        return !RE.test(val) || val.length > maxLength || zeroFlag;\n    };\n\n    // call perform row scale function from row operations module\n    const callPerformRowScale = () => {\n        performRowScale(R1, R1Scale, operation, getMatrix, setMatrix, dimRows);\n    };\n\n    return (\n        <div className=\"fContainer\">\n            <div className=\"fDivLong\"> </div>\n            <div className=\"fDiv\"> Row </div>\n            <TextInput className='fInput' f={setR1} val={R1}\n                inputTest={rowRangeTest} number={true}\n                testId={'R1ValueBottom'}\n                placeholder={'Rᵢ'} />\n            <div className=\"opButtonContainer\">\n                <Button className='opButton'\n                    name={operation}\n                    testId={\"setOperationButton\"}\n                    f={switchOperation} />\n            </div>\n            <TextInput className='fInput' f={setR1Scale} val={R1Scale}\n                inputTest={inputDecimalTest} number={false}\n                testId={'scalarValueBottom'} />\n            <Button className='fButton'\n                name={`R${R1} ${operation} ${R1Scale} → R${R1}`}\n                testId={\"rowScaleButton\"}\n                f={callPerformRowScale} />\n        </div>\n    );\n}\n\nexport default FcontainerBottom;","import React from 'react';\nimport FcontainerTop from './FcontainerTop';\nimport FcontainerBottom from './FcontainerBottom';\n\n/**\n * renders both child components of the bottom\n * container \n */\nfunction FunctionContainer({ rows, getMatrix, setMatrix, dimRows }) {\n\n  // test row id which must be >= 1 and <= m\n  const rowRangeTest = (row) => {\n    return (isNaN(row) || row < 1 || row > rows);\n  }\n\n  return (\n    <div className='functionContainer'>\n      <FcontainerTop rows={rows}\n        dimRows={dimRows}\n        getMatrix={getMatrix}\n        setMatrix={setMatrix}\n        rowRangeTest={rowRangeTest} />\n      <FcontainerBottom rows={rows}\n        dimRows={dimRows}\n        getMatrix={getMatrix}\n        setMatrix={setMatrix}\n        rowRangeTest={rowRangeTest} />\n    </div>\n  );\n}\n\nexport default FunctionContainer;","// copy a matrix and its items\nfunction copyMatrix(matrix) {\n    const copyMatrix = [];\n    matrix.forEach(el => {\n        copyMatrix.push(el.slice(0));        \n    });\n\n    return copyMatrix;\n}\n\nexport default copyMatrix;\n","import copyMatrix from '../utils/CopyMatrix';\nimport sleep from '../utils/Sleep';\n\n/**\n * Algorithm to convert input matrix to reduced row echelon form. Based on\n * pseudocode from https://rosettacode.org/wiki/Reduced_row_echelon_form\n */\n\nconst nullFunction = () => { return }\nasync function convertMatrix(matrix, dimRows, setMatrix = nullFunction) {\n    matrix = copyMatrix(matrix); // create copy\n\n    let lead = 0; // pivot entry\n\n    const rowCount = matrix.length;\n    const colCount = matrix[0].length;\n\n    for (let r = 0; r < rowCount; r++) {\n        // lead exceeds bounds of nested array\n        if (lead >= colCount) {\n            return matrix;\n        }\n        let i = r;\n\n        // when leading cell in this row is a zero\n        if (matrix[i][lead] === 0) {\n            let res = dealWithZeroLead(matrix, i, r, lead, rowCount, colCount);\n            // exceeded bounds of matrix\n            if (res[0] === -1) {\n                return matrix;\n            } else {\n                [i, lead] = [...res];\n            }\n        }\n        matrix = swapRows(i, r, matrix);\n\n        await dimAnimation(dimRows, [i, r], 500);\n        setMatrix(matrix.flatMap(el => el));\n\n        let leadingVal = matrix[r][lead];\n\n        if (leadingVal !== 0) {\n            // divide row r by this value\n            matrix[r] = matrix[r].map(el => el / leadingVal);\n\n            await dimAnimation(dimRows, [r], 500);\n            setMatrix(matrix.flatMap(el => el));\n        }\n\n        for (let i = 0; i < rowCount; i++) {\n            leadingVal = matrix[i][lead];\n            if (i !== r) {\n                let scaledR = matrix[r].map(el => el * leadingVal);\n\n                let rowI = matrix[i];\n                // subtract the scaled row r from row i \n                for (let j = 0; j < colCount; j++) {\n                    rowI[j] -= scaledR[j];\n\n                    setMatrix(matrix.flatMap(el => el));\n                }\n\n\n            }\n            await dimAnimation(dimRows, [i], 250);\n        }\n        lead++;\n    }\n    return removeNegativeZero(matrix);\n}\n\n// performs dimming animations\nasync function dimAnimation(dimRows, rows, time) {\n    dimRows(rows);\n    await sleep(time);\n}\n\n\nfunction removeNegativeZero(matrix) {\n    let out = []\n\n    matrix.forEach(row => out\n        .push(row\n            .map(el => Object.is(el,-0) ? 0 : el)))\n\n    return out;\n}\n\nfunction dealWithZeroLead(matrix, i, r, lead, rowCount, colCount) {\n    while (matrix[i][lead] === 0) {\n        i++;\n\n        // i has exceeded bounds of matrix\n        if (i === rowCount) {\n            i = r;\n            lead++;\n\n            // leading col has exceeded bounds of\n            // nested matrix \n            if (lead === colCount) {\n                // signals termination condition\n                return [-1, -1];\n            }\n        }\n    }\n    return [i, lead];\n}\n\nfunction swapRows(i, r, matrix) {\n    matrix = copyMatrix(matrix); // create copy\n\n    let temp = matrix[i];\n    matrix[i] = matrix[r];\n    matrix[r] = temp;\n\n    return matrix;\n}\n\nexport default convertMatrix;","import React from 'react';\nimport FunctionContainer from './functioncontainer/FunctionContainer';\nimport Button from './controls/Button';\nimport convertMatrix from './rowelimination/RREFAlgorithm';\n\nfunction BottomContainer({ rows, getMatrix, setMatrix, undoLast, dimRows }) {\n  const rewindSymbol = '\\u21BA';\n\n  // convert the matrix to reduced row echelon form\n  const callConvertMatrix = async () => {\n    // get the converted matrix, which must be flattened\n    convertMatrix(getMatrix(), dimRows, setMatrix).then(res => {\n      setMatrix(res.flatMap(el => el));\n    });\n  };\n\n  return (\n    <div className='bottomContainer'>\n      <FunctionContainer rows={rows} dimRows={dimRows}\n        getMatrix={getMatrix}\n        setMatrix={setMatrix} />\n      <Button name={rewindSymbol} className={'undoButton'} f={undoLast}\n        testId={\"undoButton\"} />\n      <Button name={'Convert to row canonical form'} className={'echeleonButton'}\n        f={callConvertMatrix} />\n    </div>\n  );\n}\n\nexport default BottomContainer;","import React, { useState, createContext } from 'react';\n\n/**\n *  Contains the history of states stored as a stack\n */\nconst HistoryContext = createContext();\n\nfunction HistoryProvider({ children }) {\n    const startDimensions = { n: 4, m: 5 };\n    const zeroMatrix = new Array(startDimensions.m * startDimensions.n).fill(0);\n    const startState = { matrix: zeroMatrix, dimensions: startDimensions }\n\n    const [history, setHistory] = useState([startState]);\n\n    // return the last saved state\n    const undo = () => {\n\n        if (history.length === 1) {\n            return false;\n        }\n\n        const lastState = history.slice(0).pop();\n        setHistory(history.slice(0, history.length - 1));\n\n        return lastState;\n    }\n\n    // add the current state to the history\n    const addState = (matrix) => {\n        const savedStates = history.slice(0);\n        savedStates.push(matrix);\n        setHistory(savedStates);\n    }\n\n    // set as empty history array\n    const resetHistory = (zeroMatrix) => {\n        setHistory([zeroMatrix]);\n    }\n\n    return (\n        <HistoryContext.Provider value={{ undo, addState, resetHistory }}>\n            {children}\n        </ HistoryContext.Provider>\n    );\n}\n\nexport { HistoryProvider, HistoryContext };\n\n","import React from 'react';\n\n/**\n * A cell in the matrix. Is used to input and display values\n */\nfunction Cell({ cols, index, opacity, matrix, setMatrix }) {\n    const maxValLength = 18;\n\n    const getColour = (i) => {\n        // the index of the item mod |columns| is |columns|-1 \n        const cellColour = (i % cols) === cols - 1 ? '#cecece' : 'white';\n\n        return cellColour;\n    }\n\n    const style = {\n        opacity: opacity,\n        transitionProperty: \"opacity\",\n        transitionDuration: \"0.2s\",\n        backgroundColor: getColour(index)\n    };\n\n    //update the matrix state\n    const updateState = (val) => {\n        let matrixCopy = matrix.slice(0);\n        matrixCopy[index] = val;\n        setMatrix(matrixCopy);\n    }\n\n    const updateVal = (val) => {\n\n        if (val.length > maxValLength) {\n            return;\n        }\n\n        // Return if max fractional part added\n        const decimalPlace = val.indexOf('.');\n        if (val.slice(decimalPlace).length > 3) {\n            return;\n        }\n\n        // 0 or 1 dash followed by optional digits and 0 or 1 dot\n        // then optional digits \n        let RE = /^-{0,1}\\d*\\.{0,1}\\d*$/;\n        if (!RE.test(val)) {\n            // return on invalid input \n            return;\n        } else {\n            updateState(val);\n        }\n    }\n\n    // The (string represented) number ends with a decimal or zero, \n    // so must not be cast and rounded\n    const isUnfinished = val => (typeof val === \"string\" && val.slice(-1) === '.')\n        || (typeof val === \"string\" && val.slice(-1) === '0');\n\n    const displayValue = (val) => {\n        if (isNaN(val) || isUnfinished(val)) {\n            return val;\n        }\n        // If it's a number, round to two decimal places\n        return Math.round((Number(val) + Number.EPSILON) * 100) / 100;\n    }\n\n    return (\n        <div className='cell' >\n            <input type='text' className='numInput'\n                value={displayValue(matrix[index])}\n                style={style}\n                onChange={(e) => updateVal(e.target.value)}\n                data-testid={index} />\n        </div>\n    );\n}\n\nexport default Cell;","import React from 'react';\nimport Cell from './Cell';\n\n/**\n * The matrix of cells \n */\nfunction Matrix({ cols, dimmedCells, matrix, setMatrix }) {\n    const gridStyle = { gridTemplateColumns: `repeat(${cols}, minmax(auto, 1fr))` };\n\n    // Render each cell of the matrix using dimensions \n    // passed in props\n    const renderCells = (arr) => {\n        return (\n            arr.map( (el, index)=> {\n\n                let opacity = dimmedCells.includes(index)? 0: 1;\n\n                return <Cell index={index} key={index} matrix={matrix} \n                        setMatrix={setMatrix} cols={cols}\n                        opacity={opacity} />\n            })\n        );\n    };\n\n    return (\n        <div className=\"matrix\" style={gridStyle}>\n            {renderCells(matrix)}\n        </div>\n    );\n}\n\nexport default Matrix;","import React from 'react';\n\nfunction SwapButton({ clicked, f, i, name }) {\n    let style = {};\n    if (clicked) {\n        style = { backgroundColor: '#3CBC8D' };\n    }\n\n    return (\n        <button className=\"swapButton\" onClick={(e) => { f(i); }}\n            style={style}>\n            {name}\n        </button>\n    );\n}\n\nexport default SwapButton;","// swap two rows in the matrix\nconst doSwap = (i, swapPair, setSwapPair, arrayToMatrix, setMatrix, dimRows) => {\n    let pair = swapPair;\n    pair.push(i);\n    setSwapPair(pair.slice(0));\n\n    // if two rows have been selected to swap\n    if (swapPair.length === 2) {\n        // indexes of rows being swapped\n        let first = swapPair[0];\n        let second = swapPair[1];\n\n        dimRows([first, second]);\n\n        let arr = arrayToMatrix();\n\n        // the row being overwritten\n        let temp = arr[first];\n        arr[first] = arr[second];\n        arr[second] = temp;\n\n        let flattened = arr.flatMap(el => el);\n        setMatrix(flattened);\n        setSwapPair([]);\n    }\n};\n\nexport default doSwap;","import React from 'react';\nimport Matrix from './Matrix';\nimport SwapButton from '../controls/SwapButton';\nimport doSwap from '../rowoperations/SwapOperation';\n\n/**\n * Renders the matrix and side buttons\n */\nfunction MatrixContainer({ dimensions, swapPair, setSwapPair, matrix, setMatrix,\n    arrayToMatrix, dimmedCells, dimRows }) {\n    const cols = dimensions.n;\n\n    // call the swap row operation to swap two selected\n    // rows\n    const callDoSwap = (i) => {\n        doSwap(i, swapPair, setSwapPair,\n            arrayToMatrix, setMatrix, dimRows);\n    }\n\n    const renderSwapButtons = () => {\n        // there should be as many buttons as rows\n        const arr = new Array(dimensions.m).fill(0);\n\n        return arr.map((el, index) => {\n\n            let clicked = false;\n            // if this button has been clicked\n            if (index === swapPair[0] || index === swapPair[1]) {\n                clicked = true;\n            }\n\n            return <SwapButton i={index} key={index} name={`⟺ Row ${index + 1}`}\n                f={callDoSwap} clicked={clicked} />\n        })\n    }\n\n    return (\n        <div className='matrixContainer'>\n            <div className='swapButtons'>\n                {renderSwapButtons()}\n            </div>\n            <Matrix cols={cols}\n                matrix={matrix}\n                setMatrix={setMatrix}\n                dimmedCells={dimmedCells} />\n        </div>\n    );\n}\n\nexport default MatrixContainer;","import React from 'react';\n\nfunction TopRowItem({ heading }) {\n    return (\n        <div className='topRowItem'>{heading}</div>\n    );\n}\n\nexport default TopRowItem;","import React from 'react';\nimport TopRowItem from './TopRowItem';\n\nfunction TopRow({ cols }) {\n    const rowHeads = ['x₁', 'x₂', 'x₃', 'x₄', 'x₅', 'x₆', 'x₇', 'x₈', 'x₉', 'd'];\n\n    const makeColHeaders = () => {\n        const emptyArray = new Array(cols).fill(0);\n        let i = 0;\n        let headingsEnd = rowHeads.length - 1;\n\n        return (\n            emptyArray.map(el => {\n                // if this is the final column heading it is a constant and should use 'd'\n                let heading = i === cols - 1 ? rowHeads[headingsEnd] : rowHeads[i];\n                i++;\n\n                return (\n                    <TopRowItem heading={heading} key={i} />\n                );\n            }\n            )\n        );\n    };\n\n    return (\n        <div className='topRow'>{makeColHeaders()}</div>\n    );\n}\n\nexport default TopRow;","import React, { useState, useContext } from 'react';\nimport TopContainer from './TopContainer';\nimport BottomContainer from './BottomContainer';\nimport { HistoryContext } from './providers/HistoryProvider';\nimport MatrixContainer from './matrixcontainer/MatrixContainer';\nimport TopRow from './toprow/TopRow';\nimport sleep from './utils/Sleep';\n\nimport './style.css';\n\nfunction App() {\n  const startDimensions = { m: 4, n: 5 };\n  const zeroMatrix = new Array(startDimensions.m * startDimensions.n).fill(0);\n\n  // create an array with random values as start state\n  const makeRandomArray = () => {\n    const min = -10;\n    const max = 10;\n\n    const size = startDimensions.m * startDimensions.n;\n    const arr = new Array(size).fill('0');\n\n    // map each 0 element to a random member in range min to max\n    return arr.map(el => {\n      return String(Math.floor(Math.random() * (max - min + 1) + min));\n    });\n  };\n\n  const historyContext = useContext(HistoryContext); // stores history of past states\n\n  const [dimensions, setDimensions] = useState(startDimensions); // dimension of array (mXn)\n  const [m, setM] = useState('');\n  const [n, setN] = useState('');\n  const [matrix, setMatrix] = useState(makeRandomArray()); // the matrix represented as a 1D array\n  const [swapPair, setSwapPair] = useState([]); // two rows to be swapped\n  const [dimmedCells, setDimmedCells] = useState([]); // cells dimmed during transition animations\n\n  // create an array of the required dimensions\n  const makeArray = () => {\n    resetMatrix();\n    if (m === '' || n === '') {\n      return;\n    }\n\n    const size = m * n;\n    setDimensions({ m, n });\n\n    const matrix = new Array(size).fill('0');\n    historyContext.resetHistory({ matrix: zeroMatrix, dimensions: startDimensions });\n    updateMatrixState(matrix);\n  };\n\n  // reset matrix to original dimensions and values\n  const resetMatrix = () => {\n    setN('');\n    setM('');\n    setDimensions(startDimensions);\n    setMatrix(zeroMatrix);\n    setSwapPair([]);\n    historyContext.resetHistory({ matrix: zeroMatrix, dimensions: startDimensions });\n  };\n\n  // gets previous state from history\n  // and update current state to reflect it\n  const undoLast = () => {\n    const last = historyContext.undo();\n\n    // history is empty\n    if (!last) {\n      resetMatrix();\n    } else {\n      setMatrix(last.matrix);\n      setDimensions(last.dimensions);\n    }\n  };\n\n  // update matrix state and add old matrix to memory\n  const updateMatrixState = (newMatrix) => {\n    historyContext.addState({ matrix, dimensions });\n    setMatrix(newMatrix)\n  };\n\n  // converts the matrix, which is currently in 1D array form, to\n  // 2D array\n  const arrayToMatrix = () => {\n    const out = [];\n    const cols = dimensions.n;\n    // iterate in chunks of the column size\n    for (let i = 0; i < matrix.length; i = i + cols) {\n      out.push(matrix.slice(i, i + cols));\n    }\n    return out;\n  };\n\n  // triggers transition animation to signify row operation. Takes an array of \n  // row indices as its sole argument\n  const dimRows = async (rows) => {\n    const cols = dimensions.n;\n    const out = [];\n\n    rows.forEach(row => {\n      let startIndex = row * cols;\n      out.push(startIndex);\n\n      // add index of the cells in this row\n      for (let i = startIndex + 1; i < startIndex + cols; i++) {\n        out.push(i);\n      }\n    });\n\n    // add these to array of dimmed cells\n    setDimmedCells(out);\n    await sleep(250);\n    setDimmedCells([]);\n  };\n\n  return (\n    <div className='mainContainer'>\n      <TopContainer setM={setM} setN={setN}\n        m={m} n={n}\n        makeArray={makeArray}\n        resetMatrix={resetMatrix} />\n      <TopRow cols={dimensions.n} />\n      <MatrixContainer dimensions={dimensions}\n        swapPair={swapPair}\n        setSwapPair={setSwapPair}\n        arrayToMatrix={arrayToMatrix}\n        matrix={matrix}\n        setMatrix={updateMatrixState}\n        dimmedCells={dimmedCells}\n        dimRows={dimRows} />\n      <BottomContainer rows={dimensions.m}\n        getMatrix={arrayToMatrix}\n        setMatrix={updateMatrixState}\n        undoLast={undoLast}\n        setDimmedCells={setDimmedCells}\n        dimRows={dimRows} />\n    </div>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './components/App';\nimport { HistoryProvider } from './components/providers/HistoryProvider';\n \nReactDOM.render(\n    <HistoryProvider>\n        <App />\n    </HistoryProvider>,\n    document.getElementById('root'));"],"sourceRoot":""}